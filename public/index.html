<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Layout with Top Section and Circle</title>
  <link href="styles.css" rel="stylesheet">
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; connect-src 'self' http://localhost:5000; img-src 'self' data: blob: http://localhost:5000; media-src 'self' data: blob: http://localhost:5000;">

</head>

<body>
  <div class="circle" id="toggleBtn"></div>

  <!-- The left panel overlay -->
  <div class="left-panel" id="leftPanel">
    <div class="panel-header">
      <h2>Menu</h2>
    </div>

    <!-- Twitter-like menu -->
    <nav class="panel-menu" aria-label="Main menu">
      <button class="panel-item" type="button" id="homeBtn">
        <span class="panel-icon" aria-hidden="true">🏠</span>
        <span class="panel-label">Home</span>
      </button>
      <button class="panel-item" type="button" id="exploreBtn">
        <span class="panel-icon" aria-hidden="true">#</span>
        <span class="panel-label">Explore</span>
      </button>
      <button class="panel-item" type="button" id="notificationsBtn">
        <span class="panel-icon" aria-hidden="true">🔔</span>
        <span class="panel-label">Notifications</span>
      </button>
      <button class="panel-item" type="button" id="messagesBtn">
        <span class="panel-icon" aria-hidden="true">✉️</span>
        <span class="panel-label">Messages</span>
      </button>

      <hr class="panel-divider" />

      <button class="panel-item" type="button" id="bookmarksBtn">
        <span class="panel-icon" aria-hidden="true">🔖</span>
        <span class="panel-label">Bookmarks</span>
      </button>
      <button class="panel-item" type="button" id="listsBtn">
        <span class="panel-icon" aria-hidden="true">📃</span>
        <span class="panel-label">Lists</span>
      </button>
      <button class="panel-item" type="button" id="profileBtn">
        <span class="panel-icon" aria-hidden="true">👤</span>
        <span class="panel-label">Profile</span>
      </button>

      <hr class="panel-divider" />

      <button class="panel-item" type="button" id="settingsBtn">
        <span class="panel-icon" aria-hidden="true">⚙️</span>
        <span class="panel-label">Settings & privacy</span>
      </button>
      <button class="panel-item" type="button" id="displayBtn">
        <span class="panel-icon" aria-hidden="true">💡</span>
        <span class="panel-label">Display</span>
      </button>
      <button class="panel-item" type="button" id="shortcutsBtn">
        <span class="panel-icon" aria-hidden="true">⌨️</span>
        <span class="panel-label">Keyboard shortcuts</span>
      </button>
    </nav>

    <!-- Anchored footer -->
    <div class="panel-footer">
      <button class="logout-btn" id="logoutBtn" type="button" aria-label="Log out of your account" id="logoutBtn">
        Log out
      </button>
    </div>
  </div>

  <div class="top-bar"></div>
  <div class="container">
    <!-- Left column wrapper with custom HTML scrollbar -->
    <div class="left-col">
      <div class="left-main" id="feed">
        <!-- Nicer create post composer at the very top -->
        <form id="create-post-form" class="create-post" autocomplete="off">
          <div class="create-post-header">
            <h3 class="panel-title">Create Post</h3>
          </div>

          <label for="post-content" class="sr-only">Content</label>
          <textarea id="post-content" name="content" rows="4" maxlength="5000" required
            placeholder="What's happening?"></textarea>

          <div class="row">
            <div class="field grow">
              <label for="post-tags">Tags (comma or # separated, e.g., #art, news)</label>
              <input id="post-tags" name="tags" type="text" required placeholder="#art, #news" />
            </div>

            <div class="field">
              <label for="post-file">Media (optional)</label>
              <input id="post-file" name="file" type="file" accept="image/*,video/*" />
            </div>
          </div>

          <div class="form-actions">
            <span class="char-counter" id="contentCounter">0/5000</span>
            <button class="btn-primary" type="submit">Post</button>
          </div>
        </form>

        <!-- Your feed would render posts under the composer -->
      </div>

      <!-- Custom HTML scrollbar for the feed -->
      <div class="custom-scrollbar" aria-hidden="true">
        <div class="custom-thumb" role="scrollbar" aria-controls="feed" aria-orientation="vertical" aria-valuemin="0"
          aria-valuemax="100" aria-valuenow="0" tabindex="-1"></div>
      </div>
    </div>

    <div class="right">
      <div class="top">Trending</div>
      <div class="middle">Interactions</div>
      <div class="bottom">Do you know them?</div>
    </div>

    <!-- Floating compose button -->
  </div>

  <!-- Reusable popup modal -->
  <div class="modal-backdrop" id="modalBackdrop" hidden>
    <div class="modal" id="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="modal-close" id="modalClose" type="button" aria-label="Close dialog">✕</button>
      <h2 class="modal-title" id="modalTitle">Title</h2>
      <div class="modal-body" id="modalBody"></div>
    </div>
  </div>

  <!-- Toast notifications container -->
  <div id="toastContainer" class="toast-container" aria-live="polite" aria-atomic="true"></div>

  <script src="./js/uiHandler.js"></script>
  <script src="./js/auth.js"></script>
  <script src="./js/ephemeralClient.js"></script>
  <script src="./js/ephemeralIntegration.js"></script>
  <script src="./js/feed.js"></script>
  <script src="./js/compose.js"></script>
  <button class="compose-fab" id="composeFab" type="button" aria-label="Compose new post">+</button>

</body>

</html>